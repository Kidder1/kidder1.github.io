<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    

    
<script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("use-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script>
    

<meta charset="utf-8" >

<title>Python语言深入研究</title>
<meta name="keywords" content="Python语言深入研究, Kidder1&#39;s Blog!">
<meta name="description" content="Python语言高级方法和角落知识点">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="Python语言深入研究">
<meta property="og:description" content="Python语言高级方法和角落知识点">

<link rel="shortcut icon" href="/favicon.ico">
<link rel="stylesheet" href="/style/main.css">

  <link rel="stylesheet" href="/style/simple-lightbox.min.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Kidder1's Blog!" type="application/atom+xml">
</head>
  <body>
    <div id="app" class="main">

<div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://kidder1.github.io">
        <img class="avatar" src="/images/avatar.png" alt="logo" width="32px" height="32px">
      </a>
      <a href="https://kidder1.github.io">
        <h1 class="site-title">Kidder1&#39;s Blog!</h1>
      </a>
    </div>
    <div class="right">
        <i class="icon menu-switch icon-menu-outline" ></i>
    </div>
  </div>
</div>

<div class="menu-container" style="height: 0;opacity: 0;">
<nav class="menu-list">
  
    
      <a href="/" class="menu purple-link">
        首页
      </a>
    
  
    
      <a href="/categories" class="menu purple-link">
        分类
      </a>
    
  
    
      <a href="/tags/" class="menu purple-link">
        标签
      </a>
    
  
    
      <a href="/archives" class="menu purple-link">
        归档
      </a>
    
  
    
      <a href="/about" class="menu purple-link">
        关于
      </a>
    
  
</nav>
</div>



  <div class="content-container">
    <div class="post-detail">
      
      <h2 class="post-title">Python语言深入研究</h2>
      <div class="post-info post-detail-info">
        <span><i class="icon icon-calendar-outline"></i> 2023-08-02</span>
        
          <span>
          <i class="icon icon-pricetags-outline"></i>
            
              <a href="/tags/Python/">
              Python
                
              </a>
            
          </span>
        
      </div>
      <div class="post-content-wrapper">
        <div class="post-content">
          <h1 id="高级写法"><a href="#高级写法" class="headerlink" title="高级写法"></a>高级写法</h1><h2 id="格式化字符串"><a href="#格式化字符串" class="headerlink" title="格式化字符串"></a>格式化字符串</h2><ol>
<li>使用f-strings（格式化字符串字面量）： 这是从Python 3.6版本开始提供的最现代、最简洁的字符串格式化方法。你可以在字符串前加上’f’或’F’，并在花括号{}内嵌入表达式。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Alice&quot;</span></span><br><span class="line">age = <span class="number">30</span></span><br><span class="line">formatted_string = <span class="string">f&quot;我的名字是<span class="subst">&#123;name&#125;</span>，我今年<span class="subst">&#123;age&#125;</span>岁。&quot;</span></span><br><span class="line"><span class="built_in">print</span>(formatted_string)</span><br><span class="line"><span class="comment"># 输出：&quot;我的名字是Alice，我今年30岁。&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>使用<code>.format()</code>方法： 这种方法允许你使用<code>format()</code>方法的参数替换字符串中的占位符。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Bob&quot;</span></span><br><span class="line">age = <span class="number">25</span></span><br><span class="line">formatted_string = <span class="string">&quot;我的名字是&#123;&#125;，我今年&#123;&#125;岁。&quot;</span>.<span class="built_in">format</span>(name, age)</span><br><span class="line"><span class="built_in">print</span>(formatted_string)</span><br><span class="line"><span class="comment"># 输出：&quot;我的名字是Bob，我今年25岁。&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>使用<code>%</code>运算符（C风格的字符串格式化）： 这种方法类似于C语言中的<code>%</code>运算符，是一种较旧的字符串格式化方法。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Charlie&quot;</span></span><br><span class="line">age = <span class="number">35</span></span><br><span class="line">formatted_string = <span class="string">&quot;我的名字是%s，我今年%d岁。&quot;</span> % (name, age)</span><br><span class="line"><span class="built_in">print</span>(formatted_string)</span><br><span class="line"><span class="comment"># 输出：&quot;我的名字是Charlie，我今年35岁。&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>使用<code>str.format()</code>方法配合位置或命名占位符： 这种方法允许更灵活地控制参数的位置。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Eve&quot;</span></span><br><span class="line">age = <span class="number">40</span></span><br><span class="line">formatted_string = <span class="string">&quot;我的名字是&#123;0&#125;，我今年&#123;1&#125;岁。&quot;</span>.<span class="built_in">format</span>(name, age)</span><br><span class="line"><span class="built_in">print</span>(formatted_string)</span><br><span class="line"><span class="comment"># 输出：&quot;我的名字是Eve，我今年40岁。&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用命名占位符（Python 3.1+）</span></span><br><span class="line">formatted_string = <span class="string">&quot;我的名字是&#123;name&#125;，我今年&#123;age&#125;岁。&quot;</span>.<span class="built_in">format</span>(name=name, age=age)</span><br><span class="line"><span class="built_in">print</span>(formatted_string)</span><br><span class="line"><span class="comment"># 输出：&quot;我的名字是Eve，我今年40岁。&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>使用<code>str.join()</code>方法： 这种方法用于将序列的元素用给定的字符串连接起来。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fruits = [<span class="string">&quot;苹果&quot;</span>, <span class="string">&quot;香蕉&quot;</span>, <span class="string">&quot;橙子&quot;</span>]</span><br><span class="line">formatted_string = <span class="string">&quot;、&quot;</span>.join(fruits)</span><br><span class="line"><span class="built_in">print</span>(formatted_string)</span><br><span class="line"><span class="comment"># 输出：&quot;苹果、香蕉、橙子&quot;</span></span><br></pre></td></tr></table></figure>

<p>根据你的喜好和Python版本选择合适的方法。一般来说，f-strings由于其可读性和效率而被推荐使用。</p>
<h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><p>匿名函数是一种在Python中定义简单函数的方式，也被称为lambda函数。与普通函数（def定义的函数）不同，匿名函数不需要使用def关键字来定义，而是使用lambda关键字。匿名函数通常用于简单的功能或需要临时使用的小规模函数。</p>
<p>匿名函数的语法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> arguments: expression</span><br></pre></td></tr></table></figure>

<ul>
<li>lambda：表示创建匿名函数的关键字。</li>
<li>arguments：表示函数的参数列表。</li>
<li>expression：表示函数的返回值。</li>
</ul>
<p>使用说明：</p>
<ol>
<li>匿名函数通常适用于简单的功能，不建议用于复杂逻辑的函数。</li>
<li>匿名函数返回一个函数对象，可以将其赋值给一个变量，也可以直接调用它。</li>
</ol>
<p>实际使用举例： 下面我们将使用匿名函数来实现一些简单的功能。</p>
<ol>
<li>计算两个数的和：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">add = <span class="keyword">lambda</span> x, y: x + y</span><br><span class="line">result = add(<span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出：8</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>判断一个数是否为偶数：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">is_even = <span class="keyword">lambda</span> num: num % <span class="number">2</span> == <span class="number">0</span></span><br><span class="line"><span class="built_in">print</span>(is_even(<span class="number">10</span>))  <span class="comment"># 输出：True</span></span><br><span class="line"><span class="built_in">print</span>(is_even(<span class="number">7</span>))   <span class="comment"># 输出：False</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>对列表进行排序：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fruits = [<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;orange&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;grape&quot;</span>]</span><br><span class="line">fruits.sort(key=<span class="keyword">lambda</span> fruit: <span class="built_in">len</span>(fruit))</span><br><span class="line"><span class="built_in">print</span>(fruits)  <span class="comment"># 输出：[&#x27;apple&#x27;, &#x27;grape&#x27;, &#x27;orange&#x27;, &#x27;banana&#x27;]</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>使用map()函数对列表元素进行平方运算：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">squared_numbers = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x**<span class="number">2</span>, numbers))</span><br><span class="line"><span class="built_in">print</span>(squared_numbers)  <span class="comment"># 输出：[1, 4, 9, 16, 25]</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>在函数中使用匿名函数：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">apply_operation</span>(<span class="params">func, x, y</span>):</span><br><span class="line">    <span class="keyword">return</span> func(x, y)</span><br><span class="line">result = apply_operation(<span class="keyword">lambda</span> a, b: a * b, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出：12</span></span><br></pre></td></tr></table></figure>

<p>​	请注意，在使用匿名函数时，要确保它们的功能简单且易于理解。</p>
<h2 id="map方法"><a href="#map方法" class="headerlink" title="map方法"></a>map方法</h2><p><code>map()</code> 是 Python 内置的函数之一，用于将一个函数（或其他可调用对象）应用于一个或多个序列（如列表、元组等）的每个元素，并将结果组成一个新的可迭代对象。它的基本语法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">map</span>(function, iterable, ...)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>function</code>: 是一个函数或其他可调用对象，用于处理每个输入元素。</li>
<li><code>iterable</code>: 是一个或多个序列，可以是列表、元组、集合等。</li>
</ul>
<p><code>map()</code> 将会返回一个 <code>map</code> 对象，你可以将其转换成列表或其他类型的可迭代对象，如需要的话。</p>
<p>使用说明：</p>
<ol>
<li><code>map()</code> 接受一个或多个序列，它们的长度应该相同。如果传入多个序列，那么 <code>function</code> 将接受相同位置上的元素作为参数，这些元素组成一个元组传递给 <code>function</code>。</li>
<li><code>map()</code> 不会修改原始的输入序列，而是返回一个新的可迭代对象，其中包含了 <code>function</code> 处理后的结果。</li>
</ol>
<p>实际使用举例： 下面我们通过几个例子来说明 <code>map()</code> 的用法。</p>
<ol>
<li>将列表中的每个元素求平方：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">squared_numbers = <span class="built_in">map</span>(<span class="keyword">lambda</span> x: x**<span class="number">2</span>, numbers)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(squared_numbers))  <span class="comment"># 输出：[1, 4, 9, 16, 25]</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>将两个列表对应位置的元素相加：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">list2 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line">sum_result = <span class="built_in">map</span>(<span class="keyword">lambda</span> x, y: x + y, list1, list2)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(sum_result))  <span class="comment"># 输出：[11, 22, 33]</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>将字符串列表中的单词变为大写：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">words = [<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="string">&quot;python&quot;</span>]</span><br><span class="line">upper_words = <span class="built_in">map</span>(<span class="built_in">str</span>.upper, words)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(upper_words))  <span class="comment"># 输出：[&#x27;HELLO&#x27;, &#x27;WORLD&#x27;, &#x27;PYTHON&#x27;]</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>使用 <code>map()</code> 转换多个序列：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">squares = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br><span class="line">addition = <span class="built_in">map</span>(<span class="keyword">lambda</span> x, y: x + y, numbers, squares)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(addition))  <span class="comment"># 输出：[2, 6, 12, 20, 30]</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>使用 <code>map()</code> 转换多个序列并取平均值：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scores1 = [<span class="number">85</span>, <span class="number">90</span>, <span class="number">78</span>]</span><br><span class="line">scores2 = [<span class="number">92</span>, <span class="number">88</span>, <span class="number">95</span>]</span><br><span class="line">scores3 = [<span class="number">80</span>, <span class="number">85</span>, <span class="number">88</span>]</span><br><span class="line"></span><br><span class="line">average = <span class="built_in">map</span>(<span class="keyword">lambda</span> x, y, z: (x + y + z) / <span class="number">3</span>, scores1, scores2, scores3)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(average))  <span class="comment"># 输出：[85.66666666666667, 87.66666666666667, 87.0]</span></span><br></pre></td></tr></table></figure>

<p>总结：<code>map()</code> 是一个很有用的函数，可以简化对序列元素的处理，并且能够在一行代码中完成一些常见的数据转换操作。</p>
<h2 id="reduce方法"><a href="#reduce方法" class="headerlink" title="reduce方法"></a>reduce方法</h2><p><code>reduce()</code> 是 Python 中 <code>functools</code> 模块提供的函数，用于对一个序列（如列表或元组）中的元素逐个进行合并处理，最终返回一个结果。它的基本语法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">functools.reduce(function, iterable[, initializer])</span><br></pre></td></tr></table></figure>

<ul>
<li><code>function</code>: 是一个二元函数，接受两个参数，并返回一个结果。</li>
<li><code>iterable</code>: 是一个序列，可以是列表、元组、集合等。</li>
<li><code>initializer</code>（可选）: 是初始值，如果提供了 <code>initializer</code>，则会在处理序列元素之前将其作为初始值传递给 <code>function</code>。</li>
</ul>
<p><code>reduce()</code> 在 Python 2 中是内置函数，但在 Python 3 中已经移至 <code>functools</code> 模块。所以在 Python 3 中使用 <code>reduce()</code> 需要先导入 <code>functools</code> 模块。</p>
<p>使用说明：</p>
<ol>
<li><code>reduce()</code> 首先将序列中的前两个元素传递给 <code>function</code>，得到一个结果。</li>
<li>然后将上一步的结果和序列中的下一个元素传递给 <code>function</code>，再得到一个结果。</li>
<li>依次类推，将每个元素和上一步的结果传递给 <code>function</code>，直到处理完所有元素，得到最终结果。</li>
</ol>
<p>实际使用举例： 下面我们通过几个例子来说明 <code>reduce()</code> 的用法。</p>
<ol>
<li>计算列表中所有元素的累积乘积：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">product = reduce(<span class="keyword">lambda</span> x, y: x * y, numbers)</span><br><span class="line"><span class="built_in">print</span>(product)  <span class="comment"># 输出：120</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>使用初始值计算列表中所有元素的累积和：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">initial_value = <span class="number">10</span></span><br><span class="line">sum_result = reduce(<span class="keyword">lambda</span> x, y: x + y, numbers, initial_value)</span><br><span class="line"><span class="built_in">print</span>(sum_result)  <span class="comment"># 输出：25</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>将字符串列表中的单词拼接成一个句子：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">words = [<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;World&quot;</span>, <span class="string">&quot;Python&quot;</span>]</span><br><span class="line">sentence = reduce(<span class="keyword">lambda</span> x, y: x + <span class="string">&quot; &quot;</span> + y, words)</span><br><span class="line"><span class="built_in">print</span>(sentence)  <span class="comment"># 输出：&quot;Hello World Python&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>使用 <code>reduce()</code> 找到列表中的最大值：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">numbers = [<span class="number">15</span>, <span class="number">32</span>, <span class="number">8</span>, <span class="number">20</span>, <span class="number">45</span>]</span><br><span class="line">max_value = reduce(<span class="keyword">lambda</span> x, y: x <span class="keyword">if</span> x &gt; y <span class="keyword">else</span> y, numbers)</span><br><span class="line"><span class="built_in">print</span>(max_value)  <span class="comment"># 输出：45</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>使用初始值计算列表中所有元素的平均值：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">scores = [<span class="number">85</span>, <span class="number">90</span>, <span class="number">78</span>, <span class="number">92</span>, <span class="number">88</span>]</span><br><span class="line">initial_value = <span class="number">0</span></span><br><span class="line">average = reduce(<span class="keyword">lambda</span> x, y: x + y, scores, initial_value) / <span class="built_in">len</span>(scores)</span><br><span class="line"><span class="built_in">print</span>(average)  <span class="comment"># 输出：86.6</span></span><br></pre></td></tr></table></figure>

<p>总结：<code>reduce()</code> 是一个强大的函数，可以用于处理多个元素之间的累积运算，但在 Python 3 中需要导入 <code>functools</code> 模块才能使用。在实际使用中，要确保传递给 <code>reduce()</code> 的函数符合合并运算的要求。</p>
<h3 id="注意二者区别"><a href="#注意二者区别" class="headerlink" title="注意二者区别"></a><strong>注意二者区别</strong></h3><ul>
<li><code>map()</code> 和 <code>reduce()</code> 是 Python 中两个用于处理序列的内置函数，它们都在 <code>functools</code> 模块中提供。</li>
</ul>
<p>主要区别如下：</p>
<ol>
<li>功能不同：<ul>
<li><code>map()</code>：用于对序列中的每个元素应用一个函数，并返回处理后的结果组成的可迭代对象。</li>
<li><code>reduce()</code>：用于对序列中的元素逐个进行合并处理，并返回一个最终结果。</li>
</ul>
</li>
<li>函数参数不同：<ul>
<li><code>map()</code> 接受一个函数和一个或多个序列（可迭代对象）作为参数，将函数应用于序列的每个元素，并返回结果组成的可迭代对象。</li>
<li><code>reduce()</code> 接受一个二元函数和一个序列（可迭代对象）作为参数，该二元函数处理序列中的两个元素，并返回一个结果，然后将该结果与下一个元素继续进行处理，直到处理完所有元素并得到最终结果。</li>
</ul>
</li>
<li>返回值不同：<ul>
<li><code>map()</code> 返回一个 <code>map</code> 对象，你可以将其转换成列表或其他类型的可迭代对象。</li>
<li><code>reduce()</code> 返回一个最终的结果，而不是一个可迭代对象。</li>
</ul>
</li>
<li>功能使用场景不同：<ul>
<li><code>map()</code> 适用于对序列中的每个元素进行相同的操作，例如对列表中的每个元素进行平方、转换为大写等。</li>
<li><code>reduce()</code> 适用于对序列中的元素进行合并运算，例如求和、求积、找到最大值等。</li>
</ul>
</li>
</ol>
<p>综上所述，<code>map()</code> 用于对序列中的元素逐个进行相同的处理，而 <code>reduce()</code> 用于对序列中的元素进行累积合并操作。它们在不同的场景下有不同的应用。</p>
<h3 id="例子：assic二进制转换"><a href="#例子：assic二进制转换" class="headerlink" title="例子：assic二进制转换"></a>例子：assic二进制转换</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="keyword">from</span> operator <span class="keyword">import</span> add</span><br><span class="line">b = <span class="string">b&#x27;123&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> b:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">bin</span>(i)[<span class="number">2</span>:].zfill(<span class="number">8</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">bin</span>(i)[<span class="number">2</span>:].zfill(<span class="number">8</span>))))</span><br><span class="line"><span class="built_in">print</span>(reduce(add, [<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">bin</span>(i)[<span class="number">2</span>:].zfill(<span class="number">8</span>))) <span class="keyword">for</span> i <span class="keyword">in</span> b]))</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"># 对应输出</span></span><br><span class="line"><span class="string">49                          # ascii 1</span></span><br><span class="line"><span class="string">00110001                    # 1的二进制</span></span><br><span class="line"><span class="string">[0, 0, 1, 1, 0, 0, 0, 1]    # 1的二进制的list</span></span><br><span class="line"><span class="string">50                          # ascii 2</span></span><br><span class="line"><span class="string">00110010                    # 2的二进制</span></span><br><span class="line"><span class="string">[0, 0, 1, 1, 0, 0, 1, 0]    # 2的二进制的list</span></span><br><span class="line"><span class="string">51</span></span><br><span class="line"><span class="string">00110011</span></span><br><span class="line"><span class="string">[0, 0, 1, 1, 0, 0, 1, 1]</span></span><br><span class="line"><span class="string"># 二进制的list相加</span></span><br><span class="line"><span class="string">[0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="字符串切片"><a href="#字符串切片" class="headerlink" title="字符串切片"></a>字符串切片</h2><p>当涉及到字符串切片，有很多有趣且实用的用法。以下是一些示例，展示了字符串切片的不同写法和妙用：</p>
<ol>
<li>颠倒字符串</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;Hello, World!&quot;</span></span><br><span class="line">reversed_string = s[::-<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(reversed_string)  </span><br><span class="line"><span class="comment"># 输出: &quot;!dlroW ,olleH&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>每隔一个字符获取一个子串</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;Hello, World!&quot;</span></span><br><span class="line">every_other_char = s[::<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(every_other_char) </span><br><span class="line"><span class="comment"># 输出: &quot;Hlo ol!&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>获取从索引2到索引7之间的子串</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;Hello, World!&quot;</span></span><br><span class="line">substring = s[<span class="number">2</span>:<span class="number">8</span>]</span><br><span class="line"><span class="built_in">print</span>(substring)  <span class="comment"># 输出: &quot;llo, W&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>获取从索引3开始，直到字符串结束的子串</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;Hello, World!&quot;</span></span><br><span class="line">substring = s[<span class="number">3</span>:]</span><br><span class="line"><span class="built_in">print</span>(substring)  <span class="comment"># 输出: &quot;lo, World!&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>获取从字符串开始直到索引7之前的子串</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;Hello, World!&quot;</span></span><br><span class="line">substring = s[:<span class="number">7</span>]</span><br><span class="line"><span class="built_in">print</span>(substring)  <span class="comment"># 输出: &quot;Hello, &quot;</span></span><br></pre></td></tr></table></figure>

<ol start="6">
<li>通过负数索引来获取子串</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;Hello, World!&quot;</span></span><br><span class="line">substring = s[-<span class="number">6</span>:-<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(substring)  <span class="comment"># 输出: &quot;World&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="7">
<li>获取最后3个字符的子串</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">es = <span class="string">&quot;Hello, World!&quot;</span></span><br><span class="line">last_three_chars = s[-<span class="number">3</span>:]</span><br><span class="line"><span class="built_in">print</span>(last_three_chars)  <span class="comment"># 输出: &quot;ld!&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="8">
<li>复制整个字符串</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;Hello, World!&quot;</span></span><br><span class="line">copied_string = s[:]</span><br><span class="line"><span class="built_in">print</span>(copied_string)  <span class="comment"># 输出: &quot;Hello, World!&quot;</span></span><br></pre></td></tr></table></figure>





<h2 id="字符串常用前缀解释"><a href="#字符串常用前缀解释" class="headerlink" title="字符串常用前缀解释"></a>字符串常用前缀解释</h2><p>在Python中，使用不同的前缀可以改变字符串的解释方式。</p>
<ol>
<li><p><code>b</code> 前缀（字节字符串）： 使用<code>b</code>前缀创建字节字符串，它表示以字节为单位的字符串，不会进行Unicode编码，适用于处理二进制数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">binary_data = <span class="string">b&quot;Hello, world!&quot;</span>  <span class="comment"># 创建字节字符串</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>r</code> 前缀（原始字符串）： 使用<code>r</code>前缀创建原始字符串，该字符串中的转义字符（如<code>\n</code>）不会被转义，适用于正则表达式、文件路径等。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">regex_pattern = <span class="string">r&quot;\d&#123;3&#125;-\d&#123;2&#125;-\d&#123;4&#125;&quot;</span>  <span class="comment"># 创建原始字符串，用于正则表达式</span></span><br><span class="line">file_path = <span class="string">r&quot;C:\Users\username\file.txt&quot;</span>  <span class="comment"># 创建原始字符串，用于文件路径</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>u</code> 前缀（Unicode字符串）： 在Python 2.x 中，使用<code>u</code>前缀创建Unicode字符串，表示字符串是以Unicode编码的。在Python 3中，字符串默认为Unicode，因此不再需要显式使用<code>u</code>前缀。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unicode_string = <span class="string">u&quot;こんにちは&quot;</span>  <span class="comment"># 在Python 2中使用u前缀创建Unicode字符串</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>f</code> 前缀（格式化字符串）： 使用<code>f</code>前缀创建格式化字符串，可以在字符串中插入变量或表达式，并使用花括号 <code>&#123;&#125;</code> 来界定。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Alice&quot;</span></span><br><span class="line">age = <span class="number">30</span></span><br><span class="line">formatted_string = <span class="string">f&quot;My name is <span class="subst">&#123;name&#125;</span> and I am <span class="subst">&#123;age&#125;</span> years old.&quot;</span>  <span class="comment"># 创建格式化字符串</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="Python正则表达式操作指南：re库的使用"><a href="#Python正则表达式操作指南：re库的使用" class="headerlink" title="Python正则表达式操作指南：re库的使用"></a>Python正则表达式操作指南：re库的使用</h1><h2 id="基本函数介绍与示例"><a href="#基本函数介绍与示例" class="headerlink" title="基本函数介绍与示例"></a>基本函数介绍与示例</h2><h3 id="re-search-pattern-string-搜索匹配模式的第一个位置"><a href="#re-search-pattern-string-搜索匹配模式的第一个位置" class="headerlink" title="re.search(pattern, string) 搜索匹配模式的第一个位置"></a><code>re.search(pattern, string)</code> 搜索匹配模式的第一个位置</h3><p>这个函数会在给定字符串中搜索匹配给定模式的第一个出现位置。如果找到匹配，它会返回一个匹配对象；如果没有找到，返回<code>None</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pattern = <span class="string">r&#x27;\d&#123;3&#125;-\d&#123;2&#125;-\d&#123;4&#125;&#x27;</span></span><br><span class="line">text = <span class="string">&quot;Date of birth: 01-15-1990&quot;</span></span><br><span class="line"><span class="keyword">match</span> = re.search(pattern, text)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">match</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Date found:&quot;</span>, <span class="keyword">match</span>.group())</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Date not found&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>在这个示例中，我们使用了<code>\d&#123;3&#125;-\d&#123;2&#125;-\d&#123;4&#125;</code>的模式，它会匹配类似日期格式的字符串。<code>search</code>函数找到匹配后，我们通过<code>match.group()</code>获取匹配的字符串。</p>
<h3 id="re-match-pattern-string-从字符串开头匹配模式"><a href="#re-match-pattern-string-从字符串开头匹配模式" class="headerlink" title="re.match(pattern, string)  从字符串开头匹配模式"></a><code>re.match(pattern, string)</code>  从字符串开头匹配模式</h3><p>这个函数会从字符串开头开始尝试匹配给定模式。如果在开头找到匹配，返回一个匹配对象；否则返回<code>None</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pattern = <span class="string">r&#x27;Hello&#x27;</span></span><br><span class="line">text = <span class="string">&quot;Hello, world!&quot;</span></span><br><span class="line"><span class="keyword">match</span> = re.<span class="keyword">match</span>(pattern, text)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">match</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Matched:&quot;</span>, <span class="keyword">match</span>.group())</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;No match&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>在这个示例中，我们使用了<code>Hello</code>的模式，然后用<code>match</code>函数尝试在开头匹配这个模式。在这种情况下，字符串开头的确匹配了模式。</p>
<h3 id="re-findall-pattern-string-查找所有匹配模式的子字符串"><a href="#re-findall-pattern-string-查找所有匹配模式的子字符串" class="headerlink" title="re.findall(pattern, string) 查找所有匹配模式的子字符串"></a><code>re.findall(pattern, string)</code> 查找所有匹配模式的子字符串</h3><p>这个函数会查找并返回所有在字符串中匹配给定模式的子字符串。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pattern = <span class="string">r&#x27;\d+&#x27;</span></span><br><span class="line">text = <span class="string">&quot;There are 123 apples and 456 oranges.&quot;</span></span><br><span class="line">numbers = re.findall(pattern, text)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Numbers:&quot;</span>, numbers)</span><br></pre></td></tr></table></figure>

<p>在这个示例中，我们使用了<code>\d+</code>的模式，它会匹配连续的数字。<code>findall</code>函数会返回所有匹配的数字子字符串。</p>
<h3 id="re-finditer-pattern-string-返回匹配模式的迭代器"><a href="#re-finditer-pattern-string-返回匹配模式的迭代器" class="headerlink" title="re.finditer(pattern, string)  返回匹配模式的迭代器"></a><code>re.finditer(pattern, string)</code>  返回匹配模式的迭代器</h3><p>这个函数返回一个迭代器，可以通过遍历获取所有在字符串中匹配给定模式的匹配对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pattern = <span class="string">r&#x27;\b\w+\b&#x27;</span></span><br><span class="line">text = <span class="string">&quot;Hello world, how are you?&quot;</span></span><br><span class="line">matches = re.finditer(pattern, text)</span><br><span class="line"><span class="keyword">for</span> <span class="keyword">match</span> <span class="keyword">in</span> matches:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Word:&quot;</span>, <span class="keyword">match</span>.group())</span><br></pre></td></tr></table></figure>

<p>在这个示例中，我们使用了<code>\b\w+\b</code>的模式，它会匹配单词边界并提取单词。<code>finditer</code>函数返回一个迭代器，通过遍历迭代器，我们可以获取每个匹配的单词。</p>
<h3 id="re-sub-pattern-replacement-string-替换匹配模式的字符串"><a href="#re-sub-pattern-replacement-string-替换匹配模式的字符串" class="headerlink" title="re.sub(pattern, replacement, string) - 替换匹配模式的字符串"></a><code>re.sub(pattern, replacement, string)</code> - 替换匹配模式的字符串</h3><p>这个函数会在字符串中查找匹配给定模式的子字符串，并将其替换为指定的字符串。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pattern = <span class="string">r&#x27;apple&#x27;</span></span><br><span class="line">text = <span class="string">&quot;I like apples, do you like apples?&quot;</span></span><br><span class="line">new_text = re.sub(pattern, <span class="string">&quot;orange&quot;</span>, text)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;New text:&quot;</span>, new_text)</span><br></pre></td></tr></table></figure>

<p>在这个示例中，我们使用了<code>apple</code>的模式，然后用<code>sub</code>函数将所有的<code>apple</code>替换为<code>orange</code>。这样，我们得到了一个新的字符串。</p>
<h3 id="re-split-pattern-string-使用匹配模式分割字符串"><a href="#re-split-pattern-string-使用匹配模式分割字符串" class="headerlink" title="re.split(pattern, string) - 使用匹配模式分割字符串"></a><code>re.split(pattern, string)</code> - 使用匹配模式分割字符串</h3><p>这个函数会使用匹配给定模式的子字符串来分割字符串，返回分割后的部分列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pattern = <span class="string">r&#x27;[,.]&#x27;</span></span><br><span class="line">text = <span class="string">&quot;Hello, world. How are you?&quot;</span></span><br><span class="line">parts = re.split(pattern, text)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Parts:&quot;</span>, parts)</span><br></pre></td></tr></table></figure>

<p>在这个示例中，我们使用了<code>[,.]</code>的模式，它会匹配逗号和句号。<code>split</code>函数会使用这个模式来分割字符串，返回一个包含各个部分的列表。</p>
<h2 id="提高效率的技巧"><a href="#提高效率的技巧" class="headerlink" title="提高效率的技巧"></a>提高效率的技巧</h2><ol>
<li>使用编译的正则表达式对象： 如果你在代码中多次使用同一模式，使用<code>re.compile()</code>函数创建一个编译过的正则表达式对象，以提高匹配效率。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&#x27;\d&#123;3&#125;-\d&#123;2&#125;-\d&#123;4&#125;&#x27;</span>)</span><br><span class="line">text = <span class="string">&quot;Dates: 01-01-2023 and 12-31-2023&quot;</span></span><br><span class="line">dates = pattern.findall(text)</span><br></pre></td></tr></table></figure>

<p>在这个示例中，我们首先使用<code>re.compile()</code>编译了一个正则表达式对象，然后在不同的地方多次使用它来查找日期。</p>
<ol>
<li>使用非贪婪模式： 非贪婪模式可以避免匹配时间过长。在量词后面加上<code>?</code>可以实现非贪婪匹配。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pattern = <span class="string">r&#x27;&lt;.*?&gt;&#x27;</span>  <span class="comment"># 贪婪匹配</span></span><br><span class="line">pattern = <span class="string">r&#x27;&lt;.*&gt;&#x27;</span>   <span class="comment"># 非贪婪匹配</span></span><br><span class="line">text = <span class="string">&quot;&lt;p&gt;first&lt;/p&gt;&lt;p&gt;second&lt;/p&gt;&quot;</span></span><br><span class="line">matches = re.findall(pattern, text)</span><br></pre></td></tr></table></figure>

<p>在这个示例中，我们演示了贪婪匹配和非贪婪匹配的区别。贪婪匹配会尽可能多地匹配字符，而非贪婪匹配只会匹配到第一个匹配。</p>
<ol>
<li>使用字符集缩小匹配范围： 在字符集中使用只包含可能的字符，而不是使用点号（<code>.</code>），可以提高匹配速度。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pattern = <span class="string">r&#x27;[aeiou]&#x27;</span>  <span class="comment"># 匹配元音字母</span></span><br><span class="line">text = <span class="string">&quot;Hello, how are you?&quot;</span></span><br><span class="line">vowels = re.findall(pattern, text)</span><br></pre></td></tr></table></figure>

<p>在这个示例中，我们使用了字符集<code>[aeiou]</code>来匹配元音字母。这比使用点号来匹配任意字符更有效率。</p>
<h2 id="注意事项与常见错误"><a href="#注意事项与常见错误" class="headerlink" title="注意事项与常见错误"></a>注意事项与常见错误</h2><ol>
<li><strong>转义字符：</strong> 正则表达式中的一些字符具有特殊意义，需要使用反斜杠进行转义，如<code>\d</code>表示数字。如果你要匹配反斜杠本身，需要使用<code>\\</code>。</li>
<li><strong>原始字符串：</strong> 在正则表达式中，建议使用原始字符串（使用<code>r</code>前缀），以避免处理转义字符带来的麻烦。</li>
<li><strong>量词和分组：</strong> 学习如何使用量词（<code>*</code>、<code>+</code>、<code>?</code>、<code>&#123;&#125;</code>等）和分组来构建复杂的模式。</li>
<li><strong>性能考虑：</strong> 正则表达式可能导致性能问题，特别是在处理大量数据时。要使用优化的模式和技巧来提高效率。</li>
</ol>
<h1 id="第三方库使用"><a href="#第三方库使用" class="headerlink" title="第三方库使用"></a>第三方库使用</h1><h2 id="pwntools"><a href="#pwntools" class="headerlink" title="pwntools"></a>pwntools</h2><h3 id="send-recv：数据交互方式汇总"><a href="#send-recv：数据交互方式汇总" class="headerlink" title="send&amp;recv：数据交互方式汇总"></a>send&amp;recv：数据交互方式汇总</h3><p>在 <code>pwntools</code> 库中，有几个常用的数据交互方法，包括 <code>send</code>、<code>sendline</code>、<code>sendafter</code>、<code>sendlineafter</code>、<code>recvuntil</code> 和 <code>recv</code>，它们在与远程服务通信时都有不同的特性和用途。</p>
<ol>
<li><code>send(date)</code><ul>
<li>特性：发送指定的数据 <code>data</code> 给远程服务器，但不自动添加换行符。</li>
<li>区别：与 <code>sendline</code> 相比，不会自动添加换行符，需要手动处理数据格式。</li>
<li>使用情景：适用于发送不需要换行符结尾的数据，比如二进制数据或不需要自动回车的命令。</li>
<li>示例：</li>
</ul>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建与远程服务的连接</span></span><br><span class="line">r = remote(<span class="string">&#x27;example.com&#x27;</span>, <span class="number">1337</span>)</span><br><span class="line"><span class="comment"># 发送数据，无需换行符</span></span><br><span class="line">r.send(<span class="string">&quot;Hello, world!&quot;</span>)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><code>sendline(data)</code></li>
</ol>
<ul>
<li>特性：发送指定的数据 <code>data</code> 给远程服务器，并自动添加换行符 (newline)。</li>
<li>区别：相比 <code>send</code>，更方便发送带有换行符结尾的数据。</li>
<li>使用情景：适用于发送需要自动回车的命令，比如交互式命令行操作。</li>
<li>示例：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建与远程服务的连接</span></span><br><span class="line">r = remote(<span class="string">&#x27;example.com&#x27;</span>, <span class="number">1337</span>)</span><br><span class="line"><span class="comment"># 发送带有换行符的数据</span></span><br><span class="line">r.sendline(<span class="string">&quot;login admin&quot;</span>)</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><code>sendafter(sub, data)</code></li>
</ol>
<ul>
<li>特性：等待字符串 <code>sub</code> 在输出中出现，然后发送指定的数据 <code>data</code> 给远程服务器。</li>
<li>区别：用于在交互时根据之前输出的内容，自动判断何时发送数据。</li>
<li>使用情景：适用于根据程序输出的特定字符串来动态发送数据，典型用法是在登录过程中根据提示输入用户名和密码。</li>
<li>示例：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建与远程服务的连接</span></span><br><span class="line">r = remote(<span class="string">&#x27;example.com&#x27;</span>, <span class="number">1337</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等待字符串 &quot;Username: &quot; 在输出中出现，然后发送用户名</span></span><br><span class="line">r.sendafter(<span class="string">&quot;Username: &quot;</span>, <span class="string">&quot;john_doe&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等待字符串 &quot;Password: &quot; 在输出中出现，然后发送密码</span></span><br><span class="line">r.sendafter(<span class="string">&quot;Password: &quot;</span>, <span class="string">&quot;secretpass&quot;</span>)</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><code>sendlineafter(sub, data)</code></li>
</ol>
<ul>
<li>特性：等待字符串 <code>sub</code> 在输出中出现，然后发送指定的数据 <code>data</code> 给远程服务器，并自动添加换行符 (newline)。</li>
<li>区别：结合了 <code>sendline</code> 和 <code>sendafter</code> 的功能。</li>
<li>使用情景：适用于根据程序输出的特定字符串来动态发送需要自动回车的数据。</li>
<li>示例：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建与远程服务的连接</span></span><br><span class="line">r = remote(<span class="string">&#x27;example.com&#x27;</span>, <span class="number">1337</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等待字符串 &quot;Enter your name: &quot; 在输出中出现，然后发送带有换行符的名字</span></span><br><span class="line">r.sendlineafter(<span class="string">&quot;Enter your name: &quot;</span>, <span class="string">&quot;Alice&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等待字符串 &quot;Enter your age: &quot; 在输出中出现，然后发送带有换行符的年龄</span></span><br><span class="line">r.sendlineafter(<span class="string">&quot;Enter your age: &quot;</span>, <span class="string">&quot;25&quot;</span>)</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><code>recvuntil(delims)</code></li>
</ol>
<ul>
<li>特性：接收远程服务器的输出，直到遇到指定的分隔符 <code>delims</code>。</li>
<li>区别：与 <code>recv</code> 相比，可以等待特定字符串之前的输出。</li>
<li>使用情景：适用于在得到某些输出之前，等待服务器输出的其他内容。</li>
<li>示例：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建与远程服务的连接</span></span><br><span class="line">r = remote(<span class="string">&#x27;example.com&#x27;</span>, <span class="number">1337</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 接收输出，直到遇到 &quot;Username: &quot; 字符串</span></span><br><span class="line">output = r.recvuntil(<span class="string">&quot;Username: &quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出接收到的内容</span></span><br><span class="line"><span class="built_in">print</span>(output)</span><br></pre></td></tr></table></figure>

<ol start="6">
<li><code>recv(n)</code></li>
</ol>
<ul>
<li>特性：接收指定字节数 <code>n</code> 的数据。</li>
<li>区别：与 <code>recvuntil</code> 相比，直接接收指定字节数的数据，不需要等待特定分隔符。</li>
<li>使用情景：适用于直接接收固定长度的数据。</li>
<li>示例：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建与远程服务的连接</span></span><br><span class="line">r = remote(<span class="string">&#x27;example.com&#x27;</span>, <span class="number">1337</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 接收固定长度的数据</span></span><br><span class="line">data = r.recv(<span class="number">1024</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理接收到的数据</span></span><br><span class="line"><span class="built_in">print</span>(data)</span><br></pre></td></tr></table></figure>

<h3 id="gdb查看内存命令"><a href="#gdb查看内存命令" class="headerlink" title="gdb查看内存命令"></a>gdb查看内存命令</h3><blockquote>
<p>&#x2F;s                 查看相应地址的字符串<br>x&#x2F;i		       查看汇编指令<br>x&#x2F;gx			 查看相应地址的二进制信息<br>x&#x2F;wx			按照字节形式显示二进制信息</p>
</blockquote>
<a class="simple-lightbox" href="/2023/08/02/Python%E8%AF%AD%E8%A8%80%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6/image-20230806231820590.png"><img   src="/images/loading.svg" data-src="/2023/08/02/Python%E8%AF%AD%E8%A8%80%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6/image-20230806231820590.png"  class="" lazyload></a>


        </div>
        <div class="top-div">
          <ol class="top-box"><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#%E9%AB%98%E7%BA%A7%E5%86%99%E6%B3%95"><span class="top-box-text">高级写法</span></a><ol class="top-box-child"><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="top-box-text">格式化字符串</span></a></li><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="top-box-text">匿名函数</span></a></li><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#map%E6%96%B9%E6%B3%95"><span class="top-box-text">map方法</span></a></li><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#reduce%E6%96%B9%E6%B3%95"><span class="top-box-text">reduce方法</span></a><ol class="top-box-child"><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8C%E8%80%85%E5%8C%BA%E5%88%AB"><span class="top-box-text">注意二者区别</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#%E4%BE%8B%E5%AD%90%EF%BC%9Aassic%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2"><span class="top-box-text">例子：assic二进制转换</span></a></li></ol></li><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%87%E7%89%87"><span class="top-box-text">字符串切片</span></a></li><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E7%94%A8%E5%89%8D%E7%BC%80%E8%A7%A3%E9%87%8A"><span class="top-box-text">字符串常用前缀解释</span></a></li></ol></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97%EF%BC%9Are%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="top-box-text">Python正则表达式操作指南：re库的使用</span></a><ol class="top-box-child"><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#%E5%9F%BA%E6%9C%AC%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D%E4%B8%8E%E7%A4%BA%E4%BE%8B"><span class="top-box-text">基本函数介绍与示例</span></a><ol class="top-box-child"><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#re-search-pattern-string-%E6%90%9C%E7%B4%A2%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E4%BD%8D%E7%BD%AE"><span class="top-box-text">re.search(pattern, string) 搜索匹配模式的第一个位置</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#re-match-pattern-string-%E4%BB%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BC%80%E5%A4%B4%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F"><span class="top-box-text">re.match(pattern, string)  从字符串开头匹配模式</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#re-findall-pattern-string-%E6%9F%A5%E6%89%BE%E6%89%80%E6%9C%89%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="top-box-text">re.findall(pattern, string) 查找所有匹配模式的子字符串</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#re-finditer-pattern-string-%E8%BF%94%E5%9B%9E%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="top-box-text">re.finditer(pattern, string)  返回匹配模式的迭代器</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#re-sub-pattern-replacement-string-%E6%9B%BF%E6%8D%A2%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="top-box-text">re.sub(pattern, replacement, string) - 替换匹配模式的字符串</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#re-split-pattern-string-%E4%BD%BF%E7%94%A8%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F%E5%88%86%E5%89%B2%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="top-box-text">re.split(pattern, string) - 使用匹配模式分割字符串</span></a></li></ol></li><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#%E6%8F%90%E9%AB%98%E6%95%88%E7%8E%87%E7%9A%84%E6%8A%80%E5%B7%A7"><span class="top-box-text">提高效率的技巧</span></a></li><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E4%B8%8E%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF"><span class="top-box-text">注意事项与常见错误</span></a></li></ol></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E4%BD%BF%E7%94%A8"><span class="top-box-text">第三方库使用</span></a><ol class="top-box-child"><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#pwntools"><span class="top-box-text">pwntools</span></a><ol class="top-box-child"><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#send-recv%EF%BC%9A%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92%E6%96%B9%E5%BC%8F%E6%B1%87%E6%80%BB"><span class="top-box-text">send&amp;recv：数据交互方式汇总</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#gdb%E6%9F%A5%E7%9C%8B%E5%86%85%E5%AD%98%E5%91%BD%E4%BB%A4"><span class="top-box-text">gdb查看内存命令</span></a></li></ol></li></ol></li></ol>
        </div>
      </div>
    </div>

    
      <div class="next-post">
        <a class="purple-link" href="/2023/08/01/Reverse_CTF/">
          <h3 class="post-title">
            下一篇：Reverse_CTF
          </h3>
        </a>
      </div>
    
  </div>










<footer>
<div class="site-footer">
  <div class="social-container">
    
      
        <a aria-label="跳转至github" href="https://github.com/Kidder1" target="_blank">
          <i class="icon icon-github"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
  </div>
  
  
  
  
  
    
      <a href="https://beian.miit.gov.cn" target="_blank">陕ICP备2022004010号-1</a>
  
  
</div>
</footer>


      </div>
    </div>
    
<script id="hexo-configurations"> window.theme_config = {"image":{"lazyload_enable":true,"photo_zoom":"simple-lightbox"}}; window.is_post = true; </script>

<script src="/js/main.js"></script>






  <script src="/js/simple-lightbox.min.js"></script><script>document.addEventListener('DOMContentLoaded', function() {new SimpleLightbox('.post-detail .simple-lightbox', {fileExt: false,captionsData:'alt'});});</script></body>
</html>

